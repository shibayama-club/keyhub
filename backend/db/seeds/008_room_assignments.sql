-- +goose Up
-- +goose StatementBegin
SELECT 'Seed: Insert room_assignments';

-- Each tenant is assigned to at least one room
-- expires_at: NULL means permanent assignment

INSERT INTO room_assignments (id, tenant_id, room_id, assigned_at, expires_at, created_at, updated_at) VALUES
    -- 開発チームAlpha → 会議室A (定期利用)
    ('60000000-0000-0000-0000-000000000001', '10000000-0000-0000-0000-000000000001', '40000000-0000-0000-0000-000000000001', NOW(), NOW() + INTERVAL '180 days', NOW(), NOW()),

    -- 総務部 → 総務課オフィス (常時利用)
    ('60000000-0000-0000-0000-000000000002', '10000000-0000-0000-0000-000000000002', '40000000-0000-0000-0000-000000000004', NOW(), NULL, NOW(), NOW()),

    -- KeyHubプロジェクト → 工作室B (プロジェクト期間中)
    ('60000000-0000-0000-0000-000000000003', '10000000-0000-0000-0000-000000000003', '40000000-0000-0000-0000-000000000005', NOW(), NOW() + INTERVAL '365 days', NOW(), NOW()),

    -- AI研究室 → AI実験室 (常時利用)
    ('60000000-0000-0000-0000-000000000004', '10000000-0000-0000-0000-000000000004', '40000000-0000-0000-0000-000000000003', NOW(), NULL, NOW(), NOW()),

    -- インフラチームBeta → 資材倉庫 (常時アクセス)
    ('60000000-0000-0000-0000-000000000005', '10000000-0000-0000-0000-000000000005', '40000000-0000-0000-0000-000000000006', NOW(), NULL, NOW(), NOW()),

    -- 追加: AI研究室 → 教室101 (講義用)
    ('60000000-0000-0000-0000-000000000006', '10000000-0000-0000-0000-000000000004', '40000000-0000-0000-0000-000000000002', NOW(), NOW() + INTERVAL '90 days', NOW(), NOW());

-- +goose StatementEnd

-- +goose Down
-- +goose StatementBegin
SELECT 'Seed Rollback: Delete room_assignments';

DELETE FROM room_assignments WHERE id IN (
    '60000000-0000-0000-0000-000000000001',
    '60000000-0000-0000-0000-000000000002',
    '60000000-0000-0000-0000-000000000003',
    '60000000-0000-0000-0000-000000000004',
    '60000000-0000-0000-0000-000000000005',
    '60000000-0000-0000-0000-000000000006'
);

-- +goose StatementEnd
